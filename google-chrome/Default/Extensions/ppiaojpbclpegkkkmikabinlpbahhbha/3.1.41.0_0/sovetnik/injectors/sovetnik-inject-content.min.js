!function(){window.svt||(window.svt={},loadSovetnikInjectorModule([1],{0:function(a,b,c){"use strict";c(126),c(127),c(130)},8:function(a,b,c){"use strict";var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e={a:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],throwCoin:function(){var a=arguments.length<=0||void 0===arguments[0]?50:arguments[0],b=100*Math.random();return a>b},getHostname:function(a){a=a||window.document;var b=a.domain;return/^www./.test(b)&&(b=b.slice(4)),b},getDateText:function(a,b,c,d){var e=this.a[b-1];return d?c+" "+e:c+" "+e+" "+a},formatAviaDate:function(a){var b=/(\d{4})-(\d{2})-(\d{2})/,c=b.exec(a);if(c&&c.length){var d=Number(c[1]),e=Number(c[2]),f=Number(c[3]);return this.getDateText(d,e,f,!0)}},isYandexNotificationsAvailable:function(){var a=c(9);return a.isYaBrowser()&&"undefined"!=typeof chrome&&!!chrome.notifications},isDocumentHidden:function(){return window.document.hidden},removeNode:function(a){a.parentNode&&a.parentNode.removeChild(a)},hasClass:function(a,b){return a?(" "+a.className+" ").indexOf(" "+b+" ")>-1:void 0},getPosition:function(a){var b=a.getBoundingClientRect();return{top:Math.round(b.top),bottom:Math.round(b.top+a.offsetHeight-window.innerHeight),left:Math.round(b.left),right:Math.round(b.left+a.offsetWidth-window.innerWidth)}},removeClass:function(a,b){return a?(a.className=a.className.replace(b,""),a.className):void 0},addClass:function(a,b){if(a){if(this.hasClass(a,b))return;return a.className?a.className+=" "+b:a.className=b,a.className}},isSubdomain:function(a,b){var c=a.indexOf(b);return-1===c?!1:0===c?!0:"."===a[c-1]},priceAnalyze:function(a){var b=window&&window.document,c=b.domain;if("aliexpress.ru"===c)return e.getPriceValueFromRange(a);a=(a.match(/\d(,|\.)/g)||[]).length>1?a:a.replace(/\s*/g,""),a=/\d+[\.,`]*[0-9]*[\.,`]*[0-9]*/g.exec(a),a=a&&a.length&&a[0]||"",a=a.replace(/[^0-9,\.]/g,""),a=a.replace(/(,|\.)$/g,"");var f=a.match(/(\.\d\d)$/)||[],g=d(f,1),h=g[0];h=h?Math.round(parseFloat("0"+h)):0,a=a.replace(/(,|\.)\d\d?$/g,""),a=a.replace(/[.,]/g,""),a=a.replace(/`*/g,"");var i=parseFloat(a);return a=Number.isNaN(i)?a:""+(i+h)},getPriceValueFromRange:function(a){var b=a.split("-")[0],c=b.replace(/\s/g,""),d=c.replace(",","."),e=Math.round(parseFloat(d));return Number.isNaN(e)?0:e},getTextContents:function(a,b){for(var c="",d=0;d<a.childNodes.length;d++)a.childNodes[d].nodeType==document.TEXT_NODE?c+=" "+a.childNodes[d].textContent:b&&a.childNodes[d].alt?c+=a.childNodes[d].alt:a.childNodes[d].nodeType==document.ELEMENT_NODE&&(c+=" "+this.getTextContents(a.childNodes[d],b));return c=c.replace(/\s+/g," ").replace(/^[^\dA-Za-zА-Яа-я\(\)\.\,\$€₽]+/,"").replace(/[^\dA-Za-zА-Яа-я\(\)]\.\,\$€+$/,""),this.trim(c)},getQueryParam:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],d=[],e=void 0,f=[b,encodeURIComponent(b)];if(c)for(;-1!==a.lastIndexOf("#");)d=d.concat(a.substr(a.lastIndexOf("#")+1).split("&")),a=a.substr(0,a.lastIndexOf("#"));else{var g=a.indexOf("#");-1!==g&&(a=a.substring(0,g))}if(-1!==a.indexOf("?")&&(d=d.concat(a.substr(a.indexOf("?")+1).split("&"))),d=d.map(function(a){return a.replace(/^[a-zA-Z\/\\]+\?/,"")}))for(var h=0;h<f.length;h++)for(var i=0;i<d.length;i++)if(0===d[i].indexOf(f[h]+"="))return e=d[i].substr((f[h]+"=").length),decodeURIComponent(e.replace(/\+/g," "))},formatDate:function(a){var b=/^\d{4}-(\d{2})-(\d{2})/;return a&&b.test(a)?"("+RegExp.$2+" "+this.a[parseInt(RegExp.$1,10)-1]+")":""},getMonthNum:function(a){var b={"янв":"01","фев":"02","апр":"04","июн":"06","июл":"07","авг":"08","сен":"09","окт":"10","ноя":"11","дек":"12",jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12"};return a=a.toLowerCase(),-1!==a.indexOf("мар")?"03":-1!==a.indexOf("ма")?"05":b[a.substring(0,3)]},getProfitText:function(a,b,c){var d=a-b,e="";return d>100&&"руб."==c&&(e+=d+" "+c),e},isMonthOfNextYear:function(a){var b=(new Date).getMonth()+1;return b>a},mixin:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e={};return a=a||{},c.forEach(function(b){for(var d in b)"undefined"!=typeof e[d]&&e[d]==b[d]||"undefined"!=typeof c[d]||(a[d]=b[d])}),a},getPriceContextElement:function(a){if(document.currentScript&&document.currentScript.src)return document.currentScript;var b=document.getElementsByTagName("script");if(a)for(var c=b.length-1;c>=0;c--)if(b[c].src&&b[c].src.indexOf("sovetnik.webpartner.min.js")>-1)return b[c];for(var c=0;c<b.length;c++){var d=b[c].src&&(b[c].src.indexOf("static/js/ecomerce-context")>-1||b[c].src.indexOf("sovetnik.min.js")>-1||b[c].src.indexOf("mbr=")>-1);if(d)return b[c]}},b:function(){var a=document.getElementById("mbrstl"),b=document.getElementById("mbrtmplt");a&&a.parentNode.removeChild(a),b&&b.parentNode.removeChild(b)},getCurrencyFromStr:function(a){if(a&&"string"==typeof a){a=a.toUpperCase().replace(/\s/g,"");var b=[{pattern:/(?:EUR)|€/,currency:"EUR"},{pattern:/(?:USD)|(?:У\.Е\.)|\$/,currency:"USD"},{pattern:/(?:UAH)|(?:ГРН)|(?:₴)/,currency:"UAH"},{pattern:/(?:RUR)|(?:RUB)|(?:Р)|(?:РУБ)|₽|(?:P)|(?:РUB)|(?:PУБ)|(?:PУB)|(?:PYБ)|(?:РYБ)|(?:РУB)|(?:PУБ)/,currency:"RUB"},{pattern:/(?:ТГ)|(?:KZT)|(?:₸)|(?:ТҢГ)|(?:TENGE)|(?:ТЕНГЕ)/,currency:"KZT"},{pattern:/(?:GBP)|(?:£)|(?:UKL)/,currency:"GBP"}],c=b.map(function(b){return{currency:b.currency,index:a.search(b.pattern)}}).filter(function(a){return a.index>-1}).sort(function(a,b){return a.index-b.index});return c.length?c[0].currency:void 0}},getDifferentElement:function(a,b){var c=[].slice.call(document.querySelectorAll(a));for(b&&(c=c.filter(b));c.length>1;)c=c.map(function(a){return a.parentNode}),c=c.filter(function(a){return a&&1===c.filter(function(b){return b===a}).length});if(c.length){try{if(c[0].matches&&c[0].matches(a))return c[0];if(c[0].matchesSelector&&c[0].matchesSelector(a))return c[0];if(c[0].webkitMatchesSelector&&c[0].webkitMatchesSelector(a))return c[0]}catch(d){}return c[0].querySelector&&c[0].querySelector(a)}},getUniqueElements:function(a){var b=[].slice.call(document.querySelectorAll(a));return b.length&&!function(){var a=[],c=[],d=[];b.forEach(function(b){b.className?a.push(b):c.push(b)}),a=a.filter(function(b){var c=b.className;return 1===a.filter(function(a){return a.className===c}).length}),d=b.filter(function(a){return a.getAttribute("itemtype")}),d=d.filter(function(a){var b=a.getAttribute("itemtype");return 1===d.filter(function(a){return a.getAttribute("itemtype")===b}).length}),(c.length||a.length||d.length)&&(b=d,(!c.length||c.length&&c.length<b.length)&&(b=c),(!b.length||a.length&&a.length<b.length)&&(b=a)),b.length>5&&(b=[])}(),b},formatNumber:function(a){"string"==typeof a&&(a=a.replace(/\D/g,""));var b=a.toString().split("");return a=b.map(function(a,c){return c&&(b.length-c)%3===0&&(a=" "+a),a}).join(""),a=a.replace(" .",".")},formatSmalltNumber:function(a){var b=a.toString().split("");return a=b.map(function(a,c){return c&&(b.length-c)%3===0&&(a=" "+a),a}).join(""),a=a.replace(" .",".")},formatPrice:function(a,b,c){return"USD"===b?b="$":"EUR"===b&&(b="€"),a=parseFloat(a)>10?this.formatNumber(a):this.formatSmalltNumber(a),b&&(a+=" "+b),c&&(a=c+" "+a),a},getPageHeight:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)},getOffsetTop:function(){var a=window.pageYOffset;if(!a){var b=document.documentElement.clientHeight?document.documentElement:document.body;a=b.scrollTop||0}return a},getRandomHash:function(a){var b="",c=window.crypto||window.msCrypto;if(window.Uint32Array&&c&&c.getRandomValues)try{var d=new window.Uint32Array(Math.round(a/4+1)),e=0,f=c.getRandomValues(d);for(f&&f!==d&&f.length===d.length&&(d=f);b.length<a;)b+=d[e].toString(36).substr(1),e=(e+1)%d.length;return b=b.substr(0,a)}catch(g){}for(;b.length<a;)b+=Math.round(35*Math.random()).toString(36);return b},getGradeText:function(a){if(0===a)return"Нет отзывов";var b=this.pluralize(["отзыв","отзыва","отзывов"],a);return a+" "+b},getISBN:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=10,c=a.split(" ").filter(function(a){return a.length>=b&&a.replace("-","").match(/\d.+/)}).map(function(a){return a.replace(",","")});return c.toString()},pluralize:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=a[b%10===1&&b%100!==11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2];return c&&(d=b+" "+d),d},ratingText:function(a){return a%1>0?String(a):a+".0"},getRatingReviewsText:function(a,b){return b&&1>a?b:e.pluralize(["отзыва","отзывов","отзывов"],a,!0)},getScreenSize:function(){var a=Math.max(document.documentElement.clientWidth,window.innerWidth),b=Math.max(document.documentElement.clientHeight,window.innerHeight);return{width:a,height:b}},getScreenResolution:function(){var a=window.devicePixelRatio||1,b=window.screen.width,c=window.screen.height;return{ratio:a,width:b,height:c}},getViewport:function(){var a=document.body.clientWidth,b=document.body.clientHeight;return{width:a,height:b}},isPlugHunterExist:function(){var a=[].slice.call(document.querySelectorAll("script"));return a.some(function(a){return a.src&&-1!==a.src.indexOf("plughunter.ru")})},isStopSovetnikExists:function(){var a=[].slice.call(document.querySelectorAll("script"));return a.some(function(a){return a.src&&-1!==a.src.indexOf("stopsovetnik")})},getLocationOrigin:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname},reduce:function(a,b,c){if(null==a)throw new TypeError("Reduce called on null or undefined");if("function"!=typeof b)throw new TypeError(b+" is not a function");var d=Object(a),e=d.length>>>0,f=0,g=void 0;if(3==arguments.length)g=arguments[2];else{for(;e>f&&!(f in d);)f++;if(f>=e)throw new TypeError("Reduce of empty array with no initial value");g=d[f++]}for(;e>f;f++)f in d&&(g=b(g,d[f],f,d));return g},getTransitionEndEvent:function(){if(!this.c){var a=document.createElement("fakeelement"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if("undefined"!=typeof a.style[c]){this.c=b[c];break}}return this.c},canUseCalc:function(){if("undefined"==typeof this.d){var a=document.createElement("a");a.style.cssText="width: calc(10px); width: -moz-calc(10px); width: -webkit-calc(10px);",this.d=!!a.style.length}return this.d},removeUndefined:function(a){return Object.keys(a).forEach(function(b){"undefined"==typeof a[b]&&delete a[b]}),a},throttle:function(a,b){function c(){return d?(e=arguments,void(f=this)):(a.apply(this,arguments),d=!0,void setTimeout(function(){d=!1,e&&(c.apply(f,e),e=f=null)},b))}var d=!1,e=void 0,f=void 0;return c},imageToBase64:function(a){return new Promise(function(b){var c=new Image;c.crossOrigin="Anonymous";var d=void 0;d=/\.jpeg/i.test(a)?"image/jpeg":/\.jpg/i.test(a)?"image/jpg":"image/png",c.onload=function(){var a=document.createElement("CANVAS"),c=a.getContext("2d"),e=void 0;a.height=this.height,a.width=this.width,c.drawImage(this,0,0),e=a.toDataURL(d),a=null,b(e)},c.src=a})},getRequestAnimationFrame:function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;return a&&a.bind(window)},isInteger:function(a){return!isNaN(parseInt(a,10))&&isFinite(a)},parseStyleAttribute:function(a){var b=this;a=a||"";var c=a.split(";");return this.reduce(c,function(a,c){var e=c.split(":"),f=d(e,2),g=f[0],h=f[1];return g&&(a[b.trim(g)]=b.trim(h)),a},{})},trim:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},getStyleDifference:function(a,b){var c=this.parseStyleAttribute(a),d=this.parseStyleAttribute(b),e={};return Object.keys(c).forEach(function(a){d[a]!==c[a]&&(e[a]=d[a]),delete d[a]}),this.mixin(e,d)},isElementMatchesSelector:function(a,b){var c=this,d=HTMLElement.prototype,e=d.matches,f=d.matchesSelector,g=d.mozMatchesSelector,h=d.msMatchesSelector,i=d.oMatchesSelector,j=d.webkitMatchesSelector,k=function(a){var b=c.ownerDocument.querySelectorAll(a);return[].some.call(b,function(a){return a===c})},l=e||f||g||h||i||j||k;return l.call(a,b)},isVisible:function(a){if(!a.offsetWidth&&!a.offsetHeight&&!a.getClientRects().length)return!1;var b=window.getComputedStyle(a);return"hidden"!==b.visibility},getUILanguage:function(){return"undefined"!=typeof chrome&&chrome.i18n&&chrome.i18n.getUILanguage&&chrome.i18n.getUILanguage()||window.navigator&&window.navigator.language},updateData:function(a,b){for(var c in a)a.hasOwnProperty(c)&&("object"==typeof a[c]?(b[c]=b[c]||(Array.isArray(a[c])?[]:{}),this.updateData(a[c],b[c])):b[c]=a[c])},base64EncodeUnicode:function(a){return window.btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))},getRandomInteger:function(a,b){var c=a+Math.random()*(b-a);return c=Math.round(c)}};a.exports=e},9:function(a,b,c){"use strict";var d=c(8),e=c(10),f={isMobile:function(){var a=navigator.userAgent||navigator.vendor||window.opera,b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;return b.test(a)||this.isTabletBrowser()||this.isPhoneBrowser()},isMobileView:function(a){return a&&(this.isPhoneBrowser()||this.isTabletBrowser())},isTabletBrowser:function(){return this.isIOSTabletBrowser()||this.isTabletYandexBrowser()||this.isAndroidTabletBrowser()},isPhoneBrowser:function(){return this.isIOSPhoneBrowser()||this.isPhoneYandexBrowser()||this.isAndroidPhoneBrowser()},isSupportedBrowser:function(a){return this.isMobile()&&!d.canUseCalc()?(e.trigger("sovetnik:stopped","calc"),!1):this.isMobile()&&this.isUCBrowser()?(e.trigger("sovetnik:stopped","mobile-uc"),!1):this.isMobile()&&this.isFirefoxBrowser()?(e.trigger("sovetnik:stopped","mobile-ff"),!1):!this.isMobile()||this.isMobile&&a},isMacBrowser:function(){return navigator&&navigator.platform&&navigator.platform.indexOf("Mac")>-1},isUCBrowser:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("UCBrowser")>-1},isFirefoxBrowser:function(){return navigator&&navigator.userAgent&&(navigator.userAgent.indexOf("firefox")>-1||navigator.userAgent.indexOf("Firefox")>-1)},isYaBrowser:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("YaBrowser")>-1},isIOSTabletBrowser:function(){return navigator&&navigator.userAgent&&/iPad/.test(navigator.userAgent)&&!window.MSStream},isIOSPhoneBrowser:function(){return navigator&&navigator.userAgent&&/iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroidTabletBrowser:function(){return navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)&&!/Mobile/.test(navigator.userAgent)&&!window.MSStream},isAndroidPhoneBrowser:function(){return navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)&&/Mobile/.test(navigator.userAgent)&&!window.MSStream},isPhoneYandexBrowser:function(){if(navigator.userAgent){var a=function(){var a=navigator.userAgent.split(" "),b=/^YaBrowser.+\.00$/;return{v:a.some(function(a){return b.test(a)})}}();if("object"==typeof a)return a.v}},isTabletYandexBrowser:function(){if(navigator.userAgent){var a=function(){var a=navigator.userAgent.split(" "),b=/^YaBrowser.+\.01$/;return{v:a.some(function(a){return b.test(a)})}}();if("object"==typeof a)return a.v}}};a.exports=f},10:function(a,b,c){"use strict";var d=c(3),e=d.Mediator,f=void 0;a.exports=f||new e},12:function(a,b){"use strict";var c={e:{apiHost:"%SOVETNIK_API_HOST%",storageHost:"%SOVETNIK_STORAGE_HOST%",settingsHost:"%SOVETNIK_SETTINGS_HOST%",staticHost:"%SOVETNIK_STORAGE_HOST%"},f:{apiHost:"https://sovetnik.market.yandex.ru",storageHost:"https://dl.metabar.ru",settingsHost:"https://sovetnik.market.yandex.ru",landingHost:"https://sovetnik.yandex.ru",staticHost:"https://yastatic.net"},g:function(a){return!/^%[^%]+%$/.test(a)},h:function(a){return this.e[a]&&this.g(this.e[a])?this.e[a]:this.f[a]},getApiHost:function(){return this.h("apiHost")},getStorageHost:function(){return this.h("storageHost")},getSettingsURL:function(){var a=this.h("settingsHost");return a===this.f.settingsHost?a+"/app/settings":a+"/sovetnik"},getSettingsURLMobile:function(){var a=this.h("settingsHost");return a===this.f.settingsHost?a+"/mobile/settings":a+"/sovetnik-mobile"},getSettingsHost:function(){return this.h("settingsHost")},getClientEventUrl:function(){return this.h("apiHost")+"/client"},getFeedbackEventUrl:function(){return this.h("apiHost")+"/feedback"},getAviaFeedbackEventUrl:function(){return this.h("apiHost")+"/feedback-avia"},getLandingHost:function(){return this.h("landingHost")},getDomainsJSONUrl:function(){var a=this.h("staticHost")===this.f.staticHost||this.h("staticHost")===this.f.storageHost;return a?this.f.staticHost+"/sovetnik/_/script-data/domains.json":this.h("staticHost")+"/static/script-data/domains.json"},getUninstallUrl:function(){return this.getLandingHost()+"/goodbye"},getCPAOnboardingTrackingUrl:function(){return this.getApiHost()+"/cpa-onboarding"}};a.exports=c},13:function(a,b,c){"use strict";var d=c(14),e=c(18),f=c(8),g=c(19),h=c(10),i=c(21),j=c(23),k=c(24),l=c(25),m=c(12),n=c(26),o=c(9),p={i:n,j:{},k:"Price Suggest - ",isClassicExtension:function(){return!!this.l},isYandexWebPartner:function(){return this.m&&this.m.isYandexWebPartner()},needSendParserFailed:function(){return this.m&&this.m.needSendParserFailed},getDomainDataSignature:function(){return this.m&&this.m.domainDataSignature},n:function(){if(document.URL.indexOf("mvideo")>-1){var a=document.URL;a=a.replace(/\?.+/,""),e.set("svt-url",a)}},o:function(){return document.URL.indexOf("mvideo")>-1&&document.URL===decodeURIComponent(e.get("svt-url"))},p:function(a){var b=/([^\.]+?)\.[^\.]+?$/,c=b.exec(a);return c&&c.length>1?("yandex"===c[1]||"ya"===c[1])&&-1===a.indexOf("sovetnik"):void 0},q:function(a){if(a){var b=a.replace(/https?:\/\//,"");if(this.j.yandexBlackList)for(var c=0;c<this.j.yandexBlackList.length;c++)if(0===b.indexOf(this.j.yandexBlackList[c]))return!0;return this.m&&this.m.isBlacklistedByReferrer()}return!1},isSuggestScriptEnabled:function(){var a=f.getHostname(document);if(this.isSettingsPage())return!0;if(this.l&&this.l.sovetnikRemoved)return g.error("Sovetnik removed"),!1;if(this._domainDisabled)return h.trigger("script:domainDisabled",document.domain),h.trigger("script:disabled","DisabledForDomain"),g.error("Domain disabled"),!1;if(this.isYandexWebPartner())return!0;if(this.l&&this.l.offerEnabled&&"rejected"===this.l.offer)return h.trigger("script:disabled","EulaNotAccepted"),g.error("Offer rejected"),!1;if(this.m&&(this.m.isBlacklisted()||this.m.isYandexWebPartner()))return g.error("Full blacklist"),!1;if(this.j.fullBlackList)for(var b=0;b<this.j.fullBlackList.length;b++)if(a&&f.isSubdomain(a,this.j.fullBlackList[b]))return h.trigger("page:fullBlackList",a),g.error("Full blacklist"),!1;if(this.j.yandexWebPartners)for(var b=0;b<this.j.yandexWebPartners.length;b++)if(a&&f.isSubdomain(a,this.j.yandexWebPartners[b]))return h.trigger("page:yandexWebPartners",a),g.error("Yandex web partners"),!1;return this.p(a)?(g.error("Yandex site"),!1):this.q(document.referrer)?(g.error("From yandex partner"),!1):!0},isProductSuggestEnabled:function(){var a=f.getHostname(document);if(this.isYandexWebPartner())return!0;if(this.m&&!this.m.canUsePriceContext())return!1;if(this.j.pcBlackList)for(var b=0;b<this.j.pcBlackList.length;b++)if(a&&f.isSubdomain(a,this.j.pcBlackList[b]))return g.error("pc blacklist"),!1;return this.m&&!this.m.ajax&&this.m.canBeMainPage()?(g.debug("main page"),!1):!0},isSpecifiedValuesEnabled:function(){return!!this.m&&!!this.m.specifiedValues},canBeProductPage:function(){return this.m?this.m.canBeProductPage():!0},isCategoryPage:function q(){var q=this.m&&this.m.canBeCategoryPage();if(q){var a=this.getTransactionId(),b=document.URL;h.trigger("category-page:result-found",a,b)}return q},isAjaxSite:function(){return this.m&&this.m.ajax},isAviaSuggestEnabled:function(){return!0},canBeAviaPage:function(){return this.m&&this.m.urlTemplates?this.m.canBeAviaPage():!0},isAutoSuggestEnabled:function(){return!0},hasAutoSelectors:function(){return!0},canExtractPrice:function(){return this.m?this.m.canExtractPrice():!0},canUseBookParser:function(){return this.m&&this.m.canUseBookParser()},canUseMicrodata:function(){var a=f.getHostname(document);if(this.m&&!this.m.canUseMicrodata())return!1;if(this.j.microdataBlackList)for(var b=0;b<this.j.microdataBlackList.length;b++)if(a&&f.isSubdomain(a,this.j.microdataBlackList[b]))return!1;return!this.isForSelectors()},canAddRelativePosition:function(){var a=f.getHostname(document);if(this.m&&!this.m.canAddRelativePosition())return!1;if(this.j.relativePositionBlacklist)for(var b=0;b<this.j.relativePositionBlacklist.length;b++)if(a&&f.isSubdomain(a,this.j.relativePositionBlacklist[b]))return!1;return!0},canAddMarginTop:function(){return this.m&&this.m.canAddMarginTop()&&!this.isAnti()},getFixedHeaderSelector:function(){return this.m&&this.m.getFixedHeaderSelector()},getFixedMobileSelector:function(){return this.m&&this.m.getFixedMobileSelector()},getPricebarTopPosition:function(){return this.m?this.m.getPricebarTopPosition():-1},needUseRussianEnglishLetters:function(){return this.m&&this.m.needUseRussianEnglishLetters()},canCheckDomain:function(){return!this.getSelector()},canCheckCMS:function(){return!this.getSelector()&&!this.isForSelectors()},isOurSite:function(a){return a&&a.indexOf(".metabar.ru")>-1||"localhost"===a||a.indexOf(".yandex.ru")>-1},isSettingsPage:function(){return document.URL&&0===document.URL.indexOf(m.getSettingsHost())},getViewModificators:function(){return this.l&&this.l.view},getCustomLogo:function(){return this.l&&this.l.customLogo},isUniversalScript:function(){return this.i&&this.i.universalScript},getRandomNameLength:function(){return document.URL.match(/holodilnik\.ru/)?7:13},isStatsEnabled:function(){return!(this.l&&this.l.statsDisabled)},getContainerId:function(a,b){if(b){var c=(parseInt(localStorage.containerId,10)||0)%a;return localStorage.containerId=c+1,c}return Math.round(Math.random()*a)},r:function(a){g.debug("settings, _onSettingsLoaded");var b=c(9);this.j=a.blacklist||{},this.s=a.selector,this.m=new i(a.domainData,a.referrerData),this.t=a.versionSent,this.u=b.isMobile(),g.debug("_onSettingsLoaded, params",a)},hasSelectors:function(){return this.m.hasSelectors},getSelector:function(){var a=!0,b=j[f.getHostname()];if(this.l&&this.l.selector)return{name:this.l.selector};var c=this.s||this.m&&this.m.selector||null;if(b&&a)if(c)for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);else c=b;return c},getRules:function(){return this.m&&this.m.w&&this.m.w.rules?this.m.w.rules:[]},isMainPage:function(){return this.m&&this.m.canBeMainPage&&this.m.canBeMainPage()},getParserDelay:function(){return this.m&&this.m.parserDelay},getSpecifiedValues:function(){return this.m.specifiedValues},getUrlTemplates:function(){return this.m&&this.m.urlTemplates?this.m.urlTemplates:void 0},getAviaDomainWait:function(){return this.m&&this.m.wait?this.m.wait:void 0},getAviaDomainNotFoundSelector:function(){return this.m&&this.m.notFoundSelector?this.m.notFoundSelector:void 0},getWhiteLabelName:function(){return this.m&&this.m.whiteLabelName?this.m.whiteLabelName:void 0},getCartInfo:function(){if(this.m){var a=this.m,b=a.checkout,c=a.cart;if(b||c)return{checkout:b,cart:c}}},isReviewSite:function(){if(this.m&&this.m.isReviewSite())return!0;var a=this.getSelector();return a&&"review"===a},getProductName:function(){return this.l&&this.l.productName},getModelId:function(){return this.l&&this.l.modelId},getAppVersion:function(){return"202104281225"},getAffId:function(){return this.l&&this.l.affId},getClid:function(){return this.l&&this.l.clid},isDebugMode:function(){try{var a=window.localStorage;return a&&"true"===a.getItem("svt.debug")}catch(b){return!1}},isAvitoSite:function(){return location.host.indexOf("avito.ru")>-1},isAliexpress:function(){return location.host.indexOf("aliexpress.com")>-1},isWildberries:function(){return location.host.indexOf("wildberries.ru")>-1},isLamoda:function(){return location.host.indexOf("lamoda.ru")>-1},isShop:function(){return this.m&&this.m.isShop()},isTolokaDomain:function(){return this.m&&this.m.isTolokaDomain()},isLogSite:function(){return this.m&&this.m.isLogSite()},isClassified:function(){return this.m&&this.m.isClassified()},isSilentEnabled:function(){return this.isYandexWebPartner()||1200==this.getAffId()},isSilentMode:function(){return this.isSilentEnabled()&&this.l&&this.l.silent},needCleanDOM:function(){return!this._doNotClean&&!this.isYandexWebPartner()},synchronizeSettings:function(){var a=this,b=c(27);return new d(function(a){var b=!1;if(window.yandex&&window.yandex.sovetnik)return b=!0,a(null);if(window.chrome&&window.chrome.runtime)try{chrome.runtime.sendMessage({type:"getSettingsByInstaller"},function(c){a(c),b=!0})}catch(c){g.debug(c),a(null)}else a(null),b=!0;setTimeout(function(){b||a(null)},3e3)}).then(function(c){return window.mbr&&window.mbr.settingsJSON?a.applySettings(mbr.settingsJSON,c):window.svt&&"undefined"!=typeof settingsJSON?a.applySettings(settingsJSON,c):a.isUniversalScript()?a.applySettingsFromUrl()||b.loadSettings().then(a.applySettings.bind(a)):a.isYandexWebPartner()?a.applySettingsFromUrl()||d.resolve():a.applySettingsFromUrl()||b.loadSettings().then(function(b){return a.applySettings.bind(a)(b,c)})})},getScrollPosition:function(){return+(this.l&&this.l.startScroll||0)},getStartDelay:function(){return+(this.l&&this.l.startDelay||0)},getAjaxSessionId:function(){return this.m&&this.m.isAjaxSite()?(this.x||(this.x=l()),this.x):void 0},getTransactionId:function(){return"undefined"!=typeof svt&&svt.transactionId&&(this.y=svt.transactionId),this.y||(this.y=l()),this.y},resetTransactionId:function(){this.y=l(),"undefined"!=typeof svt&&(svt.transactionId=this.y)},getReferrer:function(){return document.referrer},canShowAdultOffer:function(){return"rejected"!==this._adultOffer},needShowAdultOptIn:function(){return"accepted"!==this._adultOffer},applySettingsFromUrl:function(){var a=f.getPriceContextElement(this.isYandexWebPartner()),b=["affId","clid","applicationName","optInTitle","offerEnabled","affSub","autoShowShopList","selector","productName","modelId","startScroll","startDelay","statsDisabled","activeCity","activeCountry","otherRegions","silent","mobileEnabled","optInImage"];if(a){var c=void 0,d=f.getQueryParam(a.src,"settings");if(d)c=JSON.parse(decodeURIComponent(d));else for(var e=void 0,g=0;g<b.length;g++)e=f.getQueryParam(a.src,b[g]),"undefined"!=typeof e&&(e="true"===e?!0:"false"===e?!1:e,c=c||{},c[b[g]]=e);if(a.parentNode&&a.parentNode.removeChild(a),c)return this.applySettings(c)}},z:function(a){var b=void 0;return a.hasOwnProperty("modelId")&&(b=Number(a.modelId),b&&b>0||delete a.modelId),a},applySettings:function(a,b){try{(window.localStorage&&"true"===window.localStorage["svt.debug"]||this.isForSelectors())&&(g.header("Apply settings"),g.log(a))}catch(c){}if(!this.A){for(;"string"==typeof a;)a=JSON.parse(a);b&&(a=Object.assign(a,b)),this.l=this.l||{};var e={};if(a)if(a=this.z(a),this.isYandexWebPartner()){delete this.l.clid,delete this.l.affId;for(var f in a)a.hasOwnProperty(f)&&(this.l[f]=a[f])}else for(var f in a)a.hasOwnProperty(f)&&("undefined"==typeof this.l[f]&&("clid"===f?this.l.affId&&this.l.affId!=a.affId||(this.l[f]=a[f]):this.l[f]=a[f]),e[f]=a[f]);if(this.i)for(var f in this.i)this.i.hasOwnProperty(f)&&("undefined"==typeof this.l[f]&&(this.isYandexWebPartner()?this.l[f]=this.i[f]:"clid"===f?this.l.affId&&this.l.affId!=this.i.affId||(this.l[f]=this.i[f]):this.l[f]=this.i[f]),"undefined"==typeof e[f]&&(e[f]=this.i[f]));this._resolvePostMessage&&this._resolvePostMessage(),this.A=!0}return d.resolve()},saveStartTime:function(a){this.B=a},getStartTime:function(){return this.B},getTimeAfterStart:function(){return window.performance?(new Date).getTime()-window.performance.timing.domContentLoadedEventStart:(new Date).getTime()-this.getStartTime()},delayAfterStart:function(a){var b=this.getTimeAfterStart.bind(this);return new d(function(c){function d(){b()>1e3*a&&(clearInterval(e),c())}var e=setInterval(d,2e3)})},setSetting:function(a,b){var c=void 0,e=k&&k.isCORSSupported()||c?k:c,f={};f[a]=b,f.transactionId=this.getTransactionId();var h={settings:JSON.stringify(f)};return new d(function(a,b){e.post(m.getApiHost()+"/settings",h,function(c){return g.debug("settings response",c),c?void a():void b()})})},getSettings:function(){return this.l},shouldUseIframeStorage:function(){return!this.l||!this.l.extensionStorage},isCustomSettingsPageExists:function(){return this.l&&this.l.customSettingsPage},isOptOutEnabled:function(){return this.l?!this.l.optIn:!0},getOptInImage:function(){return this.l&&this.l.optInImage},init:function(a,b){var e=this;if(b)return this.r({domainData:b});var f=c(27);return this.C?this.C:(this.C=f.canUseDomainData().then(function(b){var c={};if(b){if(e.isForSelectors()&&"function"==typeof getDomainData){var g=o.isMobile()?"MOBILE":"DESKTOP";c.domainData=getDomainData(a,localStorage.getItem("svt.mode")||g)}else c.domainData=f.getDomainData(a);if(!e.l.extensionStorage&&f.needSetYSCookie()?c.versionSent=f.get("versionSent",!0):c.versionSent=d.resolve(!0),document.referrer){var h=document.referrer.replace(/^https?\:\/\//,"").replace(/\/.*$/,"");h&&(c.referrerData=f.getDomainData(h))}}else c.selector=f.getSelector(a),c.blacklist=f.get("blacklist");var i=[],j=[];for(var k in c)c.hasOwnProperty(k)&&(i.push(k),j.push(c[k]));return d.all(j).then(function(a){for(var b={},c=0;c<a.length;c++)b[i[c]]=a[c];return b})}).then(function(a){return e.r(a)}),this.C)},waitToStartScript:function(){var a=this.getScrollPosition(),b=this.getStartDelay();return new d(function(c){function d(){f.getOffsetTop()/f.getPageHeight()*100>a&&(g.subHeader("try run after scroll"),window.removeEventListener?window.removeEventListener("scroll",d):window.detachEvent&&window.detachEvent("onscroll",d),c())}a&&(g.subHeader("wait when scroll is "+a+"%"),window.addEventListener?window.addEventListener("scroll",d,!1):window.attachEvent&&window.attachEvent("onscroll",d)),b&&(g.subHeader("wait "+b+" seconds"),p.delayAfterStart(b).then(function(){g.log("run after delay"),c()})),a||b||(g.subHeader("run script without delay"),c())})},D:function(){return(this.getClid()||this.getAffId())+this.getAppVersion()},E:function(){var a=[],b=document.documentElement.getAttribute("m_init");return b&&(a=b.split(",")),a},isScriptStarted:function(){var a=this.D(),b=1===this.E().filter(function(b){return b===a}).length;return b},removeScriptStartedInfo:function(){var a=this.D(),b=this.E().filter(function(b){return b!==a});b.length?document.documentElement.setAttribute("m_init",b.join(",")):document.documentElement.removeAttribute("m_init")},setScriptStarted:function(){var a=this.D(),b=this.E();b.push(a),document.documentElement.setAttribute("m_init",b.join(","))},needUseRandomContainer:function(){return this.m&&this.m.needUseRandomContainer()},isAnti:function(){return!!document.querySelector('[checkSovetnik="1"]')},needSendVersion:function(){return!this.t&&this.isSuggestScriptEnabled()},sendVersionToServer:function(){var a=c(27);this.needSendVersion()&&k.isCORSSupported()?(g.debug("sending version"),k.post(m.getApiHost()+"/sovetnik",{version:this.getAppVersion(),url:document.URL},function(){g.debug("version has been sent"),a.set("versionSent",!0,!0)})):g.debug("i dont need send version")},isMobileVersionEnabled:function(){return this.i.mobileEnabled},isMobile:function(){return this.u;
},getNotificationStatus:function(){return f.isYandexNotificationsAvailable()?"yandex":this.l&&this.l.notificationStatus},isButtonExtension:function(){return this.l&&this.l.withButton},needRequestNotificationPermission:function(){return this.l&&this.l.notificationStatus&&!this.l.notificationPermissionGranted},clearPriceContextNodes:function(a){var b=this,d=c(27);this.needCleanDOM()&&(h.on("pipe:reject",function(){g.debug("clear iframe after pipe:reject"),f.b(),b.removeScriptStartedInfo(),d.clear()}),a&&(f.b(),this.removeScriptStartedInfo(),d.clear()))},isNative:function r(){var r=!1;return r},getSiteInfo:function(){return this.m},isForSelectors:function(){return this.l&&5==this.l.affId},isSiteInIframe:function(){var a=!1;try{a=window.top===window.self&&null===window.top.document.body||window.top!==window.self&&null!==window.top.document.body}catch(b){var c=b.message;return g.debug("isSiteInIframe",c),!0}return a},getAutoSelectors:function(){return this.m.getAutoSelectors()}};a.exports=p},14:function(a,b,c){"use strict";"undefined"==typeof Promise?a.exports=c(15):a.exports=Promise},18:function(a,b){"use strict";var c={set:function(a,b,c,d,e){var f=a+"="+window.escape(b)+";";c&&(c instanceof Date?window.isNaN(c.getTime())&&(c=new Date):c=new Date((new window.Date).getTime()+1e3*window.parseInt(c,10)*60*60*24),f+="expires="+c.toGMTString()+";"),d&&(f+="path="+d+";"),e&&(f+="domain="+e+";"),window.document.cookie=f},get:function(a){var b=new RegExp("(?:^"+a+"|;\\s*"+a+")=(.*?)(?:;|$)","g"),c=b.exec(window.document.cookie);return null===c?null:c[1]},remove:function(a){this.set(a,"",new Date(1970,1,1,1,1),"/")}};a.exports=c},19:function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(20),g=void 0,h=function(){function a(){d(this,a)}return e(a,null,[{key:"_log",value:function(){g||(g=c(13)),g.isClassicExtension()&&!g.isForSelectors()?f.apply(void 0,arguments):console.log.apply(console,arguments)}},{key:"log",value:function(){a._log.apply(a,arguments)}},{key:"error",value:function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];a._log.apply(a,["❌ %c"+b,"color: red"].concat(d))}},{key:"warning",value:function(b){a._log("%c"+b,"color: orange; font-size: 11px;")}},{key:"success",value:function(b){a._log("✅ %c"+b,"color: green")}},{key:"debug",value:function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];a._log.apply(a,["%c"+b+" ","font-style: italic"].concat(d))}},{key:"validationSuccess",value:function(){a._log("\n"),a._log("%cresult is valid\n","color: green")}},{key:"validationFail",value:function(){a._log("\n"),a._log("%cresult is invalid\n","color: red")}},{key:"header",value:function(b){a._log("\n%c"+b+"\n\n","font-size: 14px;")}},{key:"subHeader",value:function(b){a._log("%c"+b,"font-weight: bold;")}},{key:"field",value:function(b,c){a._log("field: "+("%c"+b+"; "),"font-weight: bold","selector: ",c)}},{key:"subResult",value:function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];a._log.apply(a,["☝️Something is found %c"+b+"; ","font-weight: bold","data: "].concat(d)),a._log("\n")}},{key:"waitField",value:function(b){a._log("wait for %c"+b+"...","font-weight: bold"),a.closeSection()}},{key:"parserRun",value:function(b){a._log("%c"+b+" run!","font-weight: bold")}},{key:"closeSection",value:function(){a._log("\n\n")}}]),a}();a.exports=h},20:function(a,b){"use strict";function c(){try{window.localStorage&&"true"===window.localStorage.getItem("svt.debug")&&console.log.apply(console,arguments)}catch(a){}}a.exports=c},21:function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(19),g=c(8),h=c(22),i=!1,j=!1,k=function(){function a(b,c){d(this,a),this.w=b,this.F=c,this.w&&this.w.selector||(this.w=g.mixin(this.w,h.getParseData(window.location,document)))}return e(a,[{key:"currentDomainDataExists",value:function(){return!!this.w}},{key:"_checkRule",value:function(a,b,c){var d=c?this.F:this.w;return d&&d.rules&&d.rules.length&&d.rules.indexOf(a)>-1?(b&&f.debug("_checkRule",b),!0):!1}},{key:"isAjaxSite",value:function(){return!!this.ajax}},{key:"canBeMainPage",value:function(){var a=document.URL;return this.mainPageTemplates&&this.mainPageTemplates.length?this.mainPageTemplates.some(function(b){return new RegExp(b).test(a)}):"/"===window.location.pathname}},{key:"canBeProductPage",value:function(){var a=void 0,b=document.URL;if(this.urlTemplates){if(a=this.urlTemplates.some(function(a){return new RegExp(a).test(b)}))return!0;i||(f.warning("It's not a product page. Criterion: url doesn't match urlTemplate"),i=!0)}else{if(!this.productPageSelector)return!0;if(a=document.querySelector(this.productPageSelector))return!0;j||(f.warning("It's not a product page. Criterion: there is no element of productPageSelector"),j=!0)}return!1}},{key:"canBeCategoryPage",value:function(){var a=document.URL;if(this.categoryUrlTemplate){var b=new RegExp(this.categoryUrlTemplate);return b.test(a)?(f.debug("category page - defined by url"),!0):!1}if(this.categoryPageSelector){var c=document.querySelector(this.categoryPageSelector);if(c)return f.debug("category page - defined by page selector"),!0}return!1}},{key:"canBeAviaPage",value:function(){if(this.whiteLabelName)return!0;var a=void 0,b=document.URL;return"avia"!==this.pageType?!1:this.urlTemplates?!!(a=this.urlTemplates.some(function(a){return new RegExp(a).test(b)})):!0}},{key:"isBlacklisted",value:function(){return this._checkRule("blacklisted","domain is blacklisted")}},{key:"isYandexWebPartner",value:function(){return!!document.querySelector('script[src*="dl.metabar.ru"]')}},{key:"isBlacklistedByReferrer",value:function(){return this._checkRule("blacklisted-by-referrer","blacklisted by referrer",!0)}},{key:"canUsePriceContext",value:function(){return!this._checkRule("no-price-context","can not use price context")}},{key:"canUseMicrodata",value:function(){return!this._checkRule("no-microdata","can not use microdata")}},{key:"canExtractPrice",value:function(){return!this._checkRule("no-price","can not extract price")}},{key:"canAddRelativePosition",value:function(){return!this._checkRule("no-relative-position","can not add relative position")}},{key:"canUseBookParser",value:function(){var a=this.w.blacklistUrlTemplates,b=void 0===a?[]:a,c=document.URL,d=this._checkRule("no-book-parser"),e=b.some(function(a){var b=new RegExp(a,"i");return b.test(c)});return d&&!e||!d}},{key:"canAddMarginTop",value:function(){return!this._checkRule("no-margin-top","can not add margin-top")}},{key:"isReviewSite",value:function(){return this._checkRule("review","this is review site")}},{key:"isShop",value:function(){return this._checkRule("shop","this is shop")||this._checkRule("market-shop","this is shop")}},{key:"isTolokaDomain",value:function(){return this._checkRule("market-toloka-shops")}},{key:"isLogSite",value:function(){return this._checkRule("lgs")}},{key:"isClassified",value:function(){return this._checkRule("classified")}},{key:"needUseRandomContainer",value:function(){return this._checkRule("random-container","should use random container")}},{key:"getFixedHeaderSelector",value:function(){return this.w&&this.w.fixedHeaderSelector}},{key:"getFixedMobileSelector",value:function(){return this.w&&this.w.mobileFixedSelector}},{key:"getPricebarTopPosition",value:function(){return this._checkRule("top-is-0")?0:-1}},{key:"needUseRussianEnglishLetters",value:function(){return this._checkRule("russian-english-letters","should use russian-english letters")}},{key:"getAutoSelectors",value:function(){var a=this.auto;if(a){var b=window.location.href,c=a.urlTemplates;if(c&&c.length){var d=c.some(function(a){return new RegExp(a).test(b)});if(!d)return}return a.attributes}}},{key:"hasSelectors",get:function(){return this.w&&this.w.selector}},{key:"domainDataSignature",get:function(){return this.w&&this.w.signature}},{key:"selector",get:function(){var a=window.location.href;if(this.overrides){var b=this.overrides.filter(function(b){return b.urlTemplates.some(function(b){return new RegExp(b).test(a)})})[0];if(b)return b.selectors}return this.w&&this.w.selector}},{key:"parserDelay",get:function(){return this.w&&this.w.parserDelay}},{key:"specifiedValues",get:function(){return this.w&&this.w.specifiedValues}},{key:"overrides",get:function(){return this.w&&this.w.overrides}},{key:"ajax",get:function(){var a=this.w&&this.w.ajax;return a&&a.forEach(function(a){a.urlRegExps=a.urlTemplates.map(function(a){return new RegExp(a)})}),a}},{key:"checkout",get:function(){return this.w&&this.w.checkout}},{key:"cart",get:function(){return this.w&&this.w.cart}},{key:"urlTemplates",get:function(){return this.w&&this.w.urlTemplates}},{key:"mainPageTemplates",get:function(){return this.w&&this.w.mainPageTemplates}},{key:"wait",get:function(){return this.w&&this.w.wait}},{key:"notFoundSelector",get:function(){return this.w&&this.w.notFoundSelector}},{key:"whiteLabelName",get:function(){return this.w&&this.w.whiteLabelName}},{key:"pageType",get:function(){return this.w&&this.w.type}},{key:"productPageSelector",get:function(){var a=window.location.href;if(this.overrides){var b=this.overrides.filter(function(b){return b.urlTemplates.some(function(b){return new RegExp(b).test(a)})})[0];if(b)return b.productPageSelector}return this.w&&this.w.productPageSelector}},{key:"categoryPageSelector",get:function(){return this.w&&this.w.categoryPageSelector}},{key:"categoryUrlTemplate",get:function(){return this.w&&this.w.categoryUrlTemplate}},{key:"needSendParserFailed",get:function(){var a=this;if(this.w.rules&&this.w.rules.length){var b=function(){var b=/^percent-([0-9\.]{1,6})$/,c=a.w.rules.filter(function(a){return b.test(a)})[0],d=b.exec(c),e=parseFloat(d&&d.length&&d[1])||3;return{v:g.throwCoin(e)}}();if("object"==typeof b)return b.v}return!1}},{key:"auto",get:function(){return this.w&&this.w.auto}}]),a}();a.exports=k},22:function(a,b,c){"use strict";var d=c(8),e={partners:[{name:"aviasales",wait:{until:"element",selector:".search_progressbar-container",container:".layout-manager",exist:!1},notFoundSelector:".message--empty_tickets",detect:{urlTemplates:["/flights/(\\w{3})(\\d{4})(\\w{3})(\\d{4})?(\\d{1})?(\\d{1})?(\\d{1})?"]},attributes:{depart:{source:"regex",type:"location",value:1},arrive:{source:"regex",type:"location",value:3},"depart-date":{source:"regex",type:"date",value:2,format:{re:"(\\d{2})(\\d{2})",year:null,day:1,month:2}},"return-date":{source:"regex",type:"date",value:4,format:{re:"(\\d{2})(\\d{2})",year:null,day:1,month:2}},adult:{source:"regex",type:"int",value:5},child:{source:"regex",type:"int",value:6},infant:{source:"regex",type:"int",value:7},price:{source:"selector",value:".ticket .currency_font",type:"price",wait:!0}}},{name:"skyscanner",wait:{until:"element",selector:".progress-bar-with-title",container:".js-results-progress-panel",exist:!1},ajax:[{urlTemplates:["flights"],actions:[{name:"change",triggers:[{type:"hashchange"}],conditions:[{selector:"#search",shouldBe:"visible"}]}]}],notFoundSelector:".message--empty_tickets",detect:{urlTemplates:["#/result\\?originplace=(\\w{3})&destinationplace=(\\w{3})&outbounddate=(\\d{4}-\\d{2}-\\d{2})&inbounddate=(\\d{4}-\\d{2}-\\d{2})?[\\s\\S]*adults=(\\d{1})&children=(\\d{1})&infants=(\\d{1})"]},attributes:{depart:{source:"regex",type:"location",value:1},arrive:{source:"regex",type:"location",value:2},"depart-date":{source:"regex",type:"date",value:3,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},"return-date":{source:"regex",type:"date",value:4,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},adult:{source:"regex",type:"int",value:5},child:{source:"regex",type:"int",value:6},infant:{source:"regex",type:"int",value:7},price:{source:"selector",value:".js-cheapest-price",type:"price",wait:!0}}},{name:"kayak",notFoundSelector:"#content_div .noresults",wait:{until:"element",selector:".Common-Results-ProgressBar.theme-phoenix",container:".keel-container",exist:!1},detect:{urlTemplates:["/flights/(\\w{3})-(\\w{3})/(\\d{4}-\\d{2}-\\d{2})(?:/(\\d{4}-\\d{2}-\\d{2}))?"]},attributes:{depart:{source:"regex",type:"location",value:1},arrive:{source:"regex",type:"location",value:2},"depart-date":{source:"regex",type:"date",value:3,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},"return-date":{source:"regex",type:"date",value:4,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},adult:{source:"selector",type:"int",value:"input[id*=travelers-adults-input]"},child:{source:"selector",type:"int",value:"input[id*=travelers-child-input]"},infant:{source:"selector",type:"int",value:"input[id*=travelers-lapInfant-input]"},price:{source:"selector",value:"div span.total-price, span.price.option-text",type:"price",wait:!0}}}],getParseData:function(a,b){var c=this.findPartner(a,b);if(c){var d=c.detect.urlTemplates,e=c.wait,f=c.notFoundSelector,g=c.attributes,h=c.name,i=c.ajax;return{wait:e,notFoundSelector:f,selector:g,urlTemplates:d,ajax:i,whiteLabelName:h}}},findPartner:function(a,b){var c=void 0;return c=this.partners.find(function(b){return b.detect.urlTemplates[0]?new RegExp(b.detect.urlTemplates[0]).test(a):void 0}),c||(c=this.partners.find(function(a){return a.detect.selectors?a.detect.selectors.every(function(a){return!!b.querySelector(a)}):void 0})),c||(c=this.partners.find(function(b){return b.detect.queryParams?b.detect.queryParams.every(function(b){return!!d.getQueryParam(a,b)}):void 0})),c}};a.exports=e},23:function(a,b,c){"use strict";var d=c(8),e={"aliexpress.com":{G:function(a){if(a=a||[],a=a.filter(function(a){return"oem"!==a&&"new"!==a&&-1===a.indexOf("Другой")}),!a.length)return"";var b=/[а-яА-Я]/,c=a.filter(function(a){return!b.test(a)});return c.length?c[0]:a[0].indexOf("Яблоко")>-1||a[0].indexOf("яблоко")>-1?"Apple":a[0]},H:function(a,b){return this.G(a.filter(function(a){return b.test(a.innerHTML)}).map(function(a){return d.getTextContents(a.querySelector("dd")).toLowerCase()}))},getName:function(){var a="",b=/^(Фирменное\sнаименование)|(Производитель)|(>Brand)/,c=/(Model)|(моделирует)|(Модел)/,d=/(ПЗУ)|(ROM)/,e=[].slice.call(document.querySelectorAll("#product-desc .product-params .ui-box-body .ui-attr-list"));if(e&&e.length){var f=this.H(e,b),g=this.H(e,c),h=this.H(e,d);f&&g&&!g.match(/другой/i)&&(-1===g.indexOf(f)&&(a=f+" "),a+=g,h&&(/\dg$/.test(h)&&(h+="b"),a+=" "+h))}return a}},"videoigr.net":{getName:function(){var a=void 0,b=document.querySelector("tbody>tr>.pageHeading:nth-of-type(1) br"),c=document.querySelector("tbody>tr>.pageHeading:nth-of-type(1)");return a=b&&b.previousSibling.textContent,a||(a=c?d.getTextContents(c):""),a}}};a.exports=e},24:function(a,b){"use strict";var c={isCORSSupported:function(){return!!this.I("https://yandex.ru","GET",!0)},I:function(a,b,c){var d=void 0;if("undefined"!=typeof XMLHttpRequest&&(d=new XMLHttpRequest),c)if("withCredentials"in d)try{d.open(b,a,!0),d.withCredentials=!0}catch(e){d=null}else d=null;else d.open(b,a,!0);return d},get:function(a,b,c,d){var e=void 0,f=b?-1===(a||"").indexOf("?")?"?":"&":"";b=b||{};var g=[];for(var h in b)b.hasOwnProperty(h)&&g.push(encodeURIComponent(h)+"="+encodeURIComponent(b[h]));f+=g.join("&");var i=this.I(a+f,"GET",!d);i||c&&c({error:"CORS not supported"}),i.onreadystatechange=function(){if(e){(new Date).getTime()-e}if(4===i.readyState)if(200===i.status)c&&c(JSON.parse(i.responseText));else{var a;if("number"==typeof i.status||"string"==typeof i.status?(a=i.status,"string"==typeof i.statusText&&(a+=" "+i.statusText)):a="Unknown code",i.responseText)try{var b=JSON.parse(i.responseText);return void(c&&c(b))}catch(d){}c&&c({error:"Error with XHR",errorMessage:a})}},e=(new Date).getTime(),i.send(null)},post:function(a,b,c,d){var e=this.I(a,"POST",!0)||this.I(a,"POST");e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),Object.keys(d||{}).forEach(function(a){e.setRequestHeader(a,d[a])}),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&c&&c(JSON.parse(e.responseText))},e.send(JSON.stringify(b))}};a.exports=c},25:function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=(new Date).getTime();return b=b.toString(36),a+b+e.getRandomHash(24)}var e=c(8);a.exports=d},26:function(a,b){"use strict";var c=void 0;a.exports=c},27:function(a,b,c){"use strict";var d=c(13),e=c(28),f=c(31),g=c(32),h={init:function(a){return d.shouldUseIframeStorage()?e.init(a):f&&f.init?f.init():Promise.resolve()},get:function(a,b){return f?f.get(a):d.shouldUseIframeStorage()?e.get(a,b):Promise.resolve()},getSelector:function(a){return f?f.getSelector(a):d.shouldUseIframeStorage()?e.getSelector("key"):Promise.resolve()},loadSettings:function(){return f?f.loadSettings():d.shouldUseIframeStorage()?Promise.resolve({}):g.getSovetnikInfo()},canUseDomainData:function(){return f?Promise.resolve(!!f.getDomainData):Promise.resolve(!0)},getDomainData:function(a){return f&&f.getDomainData?f.getDomainData():d.shouldUseIframeStorage()?e.getDomainData(a):g.getDomainInfo(a)},set:function(a,b,c){var d=f||e;return d.set(a,b,c)},needSetYSCookie:function(){return f?!!f.get:!0},clear:function(){e&&e.clear()}};a.exports=h},28:function(a,b,c){"use strict";var d=c(14),e=c(12),f=c(29),g=c(13),h=c(20),i=c(8),j={listeners:{},messages:[],iframe:{},ready:!1,iframepath:"/static/storage/index.html",version:1,generateCookie:function(){return Math.round(9e6*Math.random())},sendMessage:function(a){this.iframe.postMessage(a,this.host),this.iframe.postMessage(JSON.stringify(a),this.host)},processMessages:function(){for(;this.messages.length;){var a=this.messages.pop();this.sendMessage(a)}},prepareMessage:function(a,b){var c=this.generateCookie();return a.cookie=c,this.listeners[c]=b,a},pullMessage:function(a){var b=this,c=new d(function(c){return b.prepareMessage(a,c)});return this.messages.push(a),this.ready&&this.processMessages(),c},getVersion:function(){var a=this,b={type:"MBR_STORAGE",command:"get",key:"version"},c=new d(function(c){return a.prepareMessage(b,c)});return this.sendMessage(b),c},get:function(a,b){var c={type:"MBR_STORAGE",command:"get",key:a,session:b};return this.pullMessage(c)},set:function(a,b,c){var d={type:"MBR_STORAGE",command:"set",key:a,value:b,session:c};return this.pullMessage(d)},loadSettings:function(){var a=this;return this.init(e.getStorageHost()).then(function(){return a.version>1?a.J():a.K()})},K:function(){var a={type:"MBR_STORAGE",command:"loadSettings"};return this.pullMessage(a)},J:function(){return d.all([this.L(),this.M()]).then(function(a){var b=a[0],c=a[1];for(var d in b)b.hasOwnProperty(d)&&!c.hasOwnProperty(d)&&(c[d]=b[d]);return c})},L:function(){var a={type:"MBR_STORAGE",command:"loadPartnerSettings"};return this.pullMessage(a)},M:function(){var a={type:"MBR_STORAGE",command:"loadUserSettings"};return this.pullMessage(a)},saveSettings:function(a){var b={type:"MBR_STORAGE",command:"saveSettings",value:a};this.pullMessage(b)},getSelector:function(a){var b={type:"MBR_STORAGE",command:"getSelector",domain:a};return this.pullMessage(b)},getDomainData:function(a){for(var b=[];-1!==a.indexOf(".");)b.push(f(a).toString()),a=a.replace(/^[^\.]+\./,"");b.toJSON&&(b.toJSON=function(){return this.map(function(a){return a.toString()})});var c={type:"MBR_STORAGE",command:"getDomainInfo",domains:JSON.stringify(b)};return this.pullMessage(c)},canUseDomainData:function(){var a=this;return this.init(e.getStorageHost()).then(function(){return a.version>2})},getCookies:function(){var a={type:"MBR_STORAGE",command:"getCookies"};return this.pullMessage(a)},getLocalStorage:function(){var a={type:"MBR_STORAGE",command:"getLocalStorage"};return this.pullMessage(a)},test:function(){var a={type:"MBR_STORAGE",command:"testStorage"};return this.pullMessage(a)},listener:function(a){var b=void 0;if(a&&a.data){if("string"==typeof a.data)try{b=JSON.parse(a.data)}catch(c){return}else b=a.data;if(b.cookie&&"MBR_STORAGE"===b.type){var d=this.listeners[b.cookie];if(d){try{d(b.value)}catch(e){}delete this.listeners[b.cookie]}}b&&"MBR_SETTINGS"===b.type&&b.value&&(h("save settings"),g.isUniversalScript()&&g.applySettings(b.value))}},clear:function(){var a=!g.isOurSite(i.getHostname(document))&&!g.isYandexWebPartner()&&!g.needSendVersion();a&&(this.N&&this.N.parentNode&&this.N.parentNode.removeChild(this.N),this.readyPromise=!1)},init:function(a){var b=this;if(!this.readyPromise){var c=this;this.readyPromise=new d(function(b){c.host=a;var d=document.createElement("iframe");d.style.display="none",d.onload=function(){c.iframe=d.contentWindow,c.getVersion().then(function(a){a&&(c.version=a),c.ready=!0,c.messages.length&&c.processMessages(),b()})},d.src=c.host+c.iframepath+"?version="+g.getAppVersion(),c.N=d,document.body.appendChild(d),window.addEventListener?window.addEventListener("message",function(a){c.listener.call(c,a)},!0):window.attachEvent("onmessage",function(a){return c.listener.call(c,a)})})}return this.test().then(function(a){a||(b.clear(),g.clearPriceContextNodes())}),this.readyPromise}};a.exports=j},31:function(a,b){"use strict";var c=void 0;a.exports=c},32:function(a,b,c){"use strict";var d=c(14),e=c(13),f=c(8),g=c(12),h=c(10),i=c(33),j={O:{},P:function(){return Math.round(9e6*Math.random())},Q:function(a,b){var c=this;return new d(function(d,g){var h=c.P(),j=void 0;c.O[h]=function(a){clearTimeout(j),d(a)},i.trigger(JSON.stringify({type:"MBR_ENVIRONMENT",command:a,clid:e.getClid(),affId:e.getAffId(),listenerId:h,data:b}),f.getLocationOrigin()),"getDomainData"===a&&(j=setTimeout(g,3e3))})},R:function(a){if(a){var b=e.getClid(),c=e.getAffId();if("undefined"==typeof a.response)return!1;if(b){if(b!=a.clid)return!1}else if(c&&c!=a.affId)return!1;return!0}},S:function(a){var b=a.data;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return null}return b},T:function(a){if(this.isSettingsPage&&a&&a.data){var b=this.S(a);if(this.R(b)){var c=b.type,d=b.domain;c&&d&&("removeDomain"===c?this.U(d):"addDomain"===c&&this.V(d))}}},W:function(a){if(a&&a.data){var b=this.S(a);this.R(b)&&b.listenerId&&this.O[b.listenerId]&&this.O[b.listenerId](b.response)}},X:function(){this.Q("serverMessage",{type:"secondScript"})},Y:function(){this.Q("serverMessage",{type:"userAgreementChanged"})},V:function(){var a=arguments.length<=0||void 0===arguments[0]?document.domain:arguments[0];this.Q("serverMessage",{type:"domainDisabled",domain:a})},U:function(a){this.Q("serverMessage",{type:"domainEnabled",domain:a})},Z:function(){this.Q("showSettingsPage")},getDomainInfo:function(a){return this.Q("getDomainData",{domain:a})["catch"](function(a){h.trigger("post-message-error",!1)})},getSovetnikInfo:function(){return this.Q("getSovetnikInfo")},$:function(a){this.Q("showNotification",a)},_:function(a){var b=a.action;this.Q("clearNotification",b)},aa:function(a){return this.Q("sovetnikProductResponse",a)},init:function(){var a=this,b=f.getLocationOrigin();this.isSettingsPage=g.getSettingsHost()===b,h.on("script:secondScript",function(b){return a.X(b)}),h.on("script:offer",function(){return a.Y()}),h.on("script:domainDisabled",function(b){return a.V(b)}),h.on("pricebar:settingsPage",function(b){return a.Z(b)}),h.on("pricebar:notification",function(b){return a.$(b)}),h.on("notification:clear",function(b){return a._(b)}),h.on("suggest:productOfferFound",function(b){return a.aa(b)}),i.on(function(b){return a.W(b)}),i.on(function(b){return a.T(b)},!0),i.trigger(JSON.stringify({type:"MBR_ENVIRONMENT"}),b,!0)}};a.exports=j},33:function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];window.svtPostMessage&&!b?window.svtPostMessage.on(a):window.addEventListener?window.addEventListener("message",a):window.attachEvent("onmessage",a)}function e(a){var b=a.data;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){b=null}return b}function f(a){var b=e(a);return b&&"MBR_ENVIRONMENT"===b.type}function g(a){var b=e(a);return b&&"getDomainData"===b.command}function h(){clearTimeout(k),MessageEvent.prototype.stopImmediatePropagation=function(){f(this)?g(this)&&j.trigger("post-message-error",!0):l.call(this)},k=setTimeout(function(){MessageEvent.prototype.stopImmediatePropagation=l},1500)}function i(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];window.svtPostMessage&&!c?window.svtPostMessage.trigger(a):window.wrappedJSObject&&window.wrappedJSObject.postMessage?window.wrappedJSObject.postMessage(a,b):(h(),window.postMessage(a,b))}var j=c(10),k=void 0,l=MessageEvent.prototype.stopImmediatePropagation;a.exports={on:d,trigger:i}},126:function(a,b){"use strict";window.svtPostMessage={O:[],on:function(a){this.O.push(a)},trigger:function(a){this.O.forEach(function(b){try{b({data:a})}catch(c){console.log(c)}})}}},127:function(a,b,c){"use strict";function d(){if(!f.isSiteInIframe()){var a=g();window.svt||(window.svt={}),svt.transactionId=a,e.trigger("script:transaction-id",a),svt.onPageLoad&&svt.onPageLoad()}}var e=c(128),f=c(13),g=c(25);d(),e.on("page:reload",d)},128:function(a,b,c){"use strict";function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var e=c(3),f=e.Mediator,g=c(129),h="from-another-context",i="event-hub",j=new f;j.on("",function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.pop(),e=!b.length||b[b.length-1]!==h;if(e){var f={type:i,namespace:d.namespace,params:b};if(b&&b[b.length-1]&&b[b.length-1].tabId){var j=b.pop();g.sendMessage(f,j)}else g.sendMessage(f)}}),g.onMessage(function(a,b,c){a&&a.type===i&&j.trigger.apply(j,[a.namespace].concat(d(a.params),[c,h]))}),window.svt||(window.svt={}),window.svt.hub=j,a.exports=j},129:function(a,b){"use strict";var c={sendMessage:function(a,b){return b=b||function(){},chrome.runtime.sendMessage(a,function(){var a=arguments;setTimeout(function(){b.apply(this,a)},0)}),this},onMessage:function(a){chrome.runtime.onMessage.addListener(function(b,c,d){return a(b,d)})}};a.exports=c},130:function(a,b,c){"use strict";c(131)},131:function(a,b,c){"use strict";function d(){f.sendMessage({type:"getSovetnikInfo"},function(a){m=a,m&&h(document.URL,document.referrer,function(){"undefined"!=typeof startSovetnik?startSovetnik(m.settings):g(document,m.url,m.settings)})}),j.on(e)}function e(a){var b=i.getMessageFromEvent(a);if(b&&m&&m.settings){if(m.settings.clid){if(m.settings.clid!=b.clid)return}else if(m.settings.affId!=b.affId)return;b.command&&n[b.command](b,a.origin)}}var f=c(132),g=c(133),h=c(135),i=c(136),j=c(33),k=c(13),l=/^https?:\/\/sovetnik/,m=void 0,n={getDomainData:function(a,b){f.sendMessage({type:"getDomainData",domain:a.data.domain},function(c){a.response=c,j.trigger(JSON.stringify(a),b)})},getSovetnikInfo:function(a,b){a.response=m.settings,j.trigger(JSON.stringify(a),b)},serverMessage:function(a){f.sendMessage({type:a.data.type,domain:a.data.domain||window.location.host})},showSettingsPage:function(){f.sendMessage({type:"showSettingsPage"})},showNotification:function(a){f.sendMessage({type:"showNotification",notification:a.data})},clearNotification:function(a){f.sendMessage({type:"clearNotification",action:a.data})},sovetnikProductResponse:function(a){f.sendMessage({type:"sovetnikProductResponse",response:a.data})}};window&&window.document&&(!k.isSiteInIframe()||l.test(window.location.href))&&(window.opera?"complete"===window.document.readyState||"interactive"===window.document.readyState?d():window.document.addEventListener("DOMContentLoaded",d,!1):d())},132:function(a,b,c){"use strict";var d=void 0;d=c(129),a.exports=d},133:function(a,b,c){"use strict";var d=void 0;d=c(134),a.exports=d},134:function(a,b){"use strict";function c(a,b,c){var d=a.createElement("script"),e=[];e.push("mbr=true"),e.push("settings="+encodeURIComponent(JSON.stringify(c))),e=e.join("&"),b+="?"+e,d.setAttribute("src",b),d.setAttribute("type","text/javascript"),d.setAttribute("charset","UTF-8"),a.body.appendChild(d)}a.exports=c},135:function(a,b,c){"use strict";function d(a,b,c){e.sendMessage({type:"canUseSovetnik",url:a,referrer:b},function(a){a&&c()})}var e=c(132);a.exports=d},136:function(a,b){"use strict";var c={getMessageFromEvent:function(a){if(!a.data)return null;var b=a.data;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return null}var d=b&&"MBR_ENVIRONMENT"===b.type&&!b.hasOwnProperty("response")&&(b.clid||b.affId);return d?b:null}};a.exports=c}}))}();